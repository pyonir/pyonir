{% if page.entries %}
<div id="listingComponent">
    {# <iml> tags written in this template are reactive text fragments used with the optimljs library #}
    {%- include 'components/pagination.html' -%}
    <div class="list-search">
        <div class="form-row" tabindex="0">
            <label for="filter-list" class="form-label">Search list (
                {{page.entries.max_count }}
                {{'' | iml('colors.length')}}
                )</label>
            <input name="search"
                   attrs
                   oninput="{filterSearch}"
                   id="filter-list"
                   class="form-input"
                   type="text"
                   placeholder="Search"
                   tabindex="0">
        </div>
    </div>
    <ul class="scrollable-list">
        <button attrs onclick="{addColor}" data-foo="{colors.length}">Add Item</button>
        {%- for entry in page.entries.items %}
        <li class="list-item" each="entry in filteredItems" index="{{loop.index0}}">
            <div class="head">
                <a class="title" href="{{entry.url}}" attrs="{href: entry.url}">{{loop.index}}.
                    {{entry.title}}
                </a>
                <div class="date">{{entry.date.strftime('%a, %B %d')}}</div>
            </div>
            <div class="tags">
                from: {{entry.author}}
                <ul>
                    {%- for color in ['red','green','blue'] %}
                    <small class="color-chips" each="color in colors" index="{{loop.index0}}">
                        {{loop.index}}.{{color}}
                        <button attrs onclick="{deleteColor}">X</button>
                    </small>
                    {% endfor %}
                </ul>
            </div>
        </li>
        {%- endfor %}
    </ul>
</div>

<style>
    .hlt {
    background: yellow;
    color: black;
}
    .color-chips {
        background-color: #1b8ef4;
        padding: .564rem;
        border-radius: 5px;
        margin:.564rem;
        display: inline-block;
    }
    #listingComponent {
        background: #212121;
        color: white;
        padding: 2rem;
        border-radius: 12px;
        font-size: 1.2rem;

        & input#filter-list {
            width: 100%;
            background: black;
            border-radius: .345rem;
            color: white;
        }

        .scrollable-list {
            /*max-height: 300px;*/
            overflow-y: scroll;
            overflow-x: hidden;
        }

        .list-item {
            display: flex;
            flex-direction: column;
            gap: .25em;
        }

        .list-item:hover {
            background-color: #ffffff12;
        }

        & .excerpt {
            line-height: 1.456rem;
        }

        & .head {
            display: flex;
            justify-content: space-between;
        }

        & h1 {
            font-size: 1.6rem;
        }

        & ul li a {
            color: inherit;
            font-weight: 900;
        }

        & ul li {
            list-style: none;
            padding: .756rem;
            background: #0000007a;
            border-radius: .345rem;
            margin-bottom: calc(.5rem * calc(1 - 0));
            margin-top: 0;
        }

        > ul {
            margin: 0;
        }
    }
</style>
{% endif %}